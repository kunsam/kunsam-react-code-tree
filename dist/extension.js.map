{"version":3,"sources":["../webpack/bootstrap",".././src/commands/keybinding.ts",".././src/commands/nodeflow/index.ts",".././src/commands/nodeflow/nodeFlowsUtil.ts",".././src/commands/nodeflow/nodeFlowsView.ts",".././src/commands/router/index.ts",".././src/commands/router/routerTree.ts",".././src/config.ts",".././src/extension.ts",".././src/extensionUtil.ts",".././src/select/bracketUtil.ts",".././src/select/index.ts",".././src/type.ts","../external \"fs\"","../external \"path\"","../external \"vscode\""],"names":[],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/extension.ts\");\n","\n\nimport * as vscode from \"vscode\";\nimport * as path from \"path\";\nimport { selectText } from \"../select\";\nimport { getFileAbsolutePath, GotoTextDocument } from \"../extensionUtil\";\n\nexport default class KeybindingCommands {\n\n\tconstructor(_: vscode.ExtensionContext) {\n\t\tthis.init()\n\t}\n\n\tinit() {\n\t\t// 选中括号/引号内\n\t\tvscode.commands.registerCommand(\"extension.selectBracket\", () => {\n\t\t\tselectText(false);\n\t\t})\n\t\t// 跳转相对路径\n\t\tvscode.commands.registerCommand(\"kReactCodeTree.gotoRelative\", () => {\n\t\t\tconst text = selectText(false)\n\t\t\tconst trueFsPath = getFileAbsolutePath(text)\n\t\t\tGotoTextDocument(trueFsPath)\n\t\t})\n\n\t}\n}","\nimport * as fs from 'fs'\nimport * as vscode from \"vscode\";\nimport { KC_Node } from \"../../type\";\nimport NodeFlowsUtil from \"./nodeFlowsUtil\";\nimport { NodeFlowsView } from \"./nodeFlowsView\";\n\n\n\nexport default class NodeFlowCommands {\n\n\tconstructor(context: vscode.ExtensionContext) {\n\t\tthis.init(context)\n\t}\n\n\tinit(context) {\n\t\tconst nodeFlowsView = new NodeFlowsView();\n\t\tvscode.commands.registerCommand(\"kReactCodeTree.refresh\", () => {\n\t\t\tvscode.window.showInformationMessage(`kReactCodeTree called refresh.`);\n\t\t\tnodeFlowsView.reset();\n\t\t});\n\n\t\t// 需要左边 kReactCodeTree 面板打开才执行\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\n\t\t\t\"extension.getKReactNodeCode\",\n\t\t\tasync () => {\n\t\t\t\tconst editor = vscode.window.activeTextEditor;\n\t\t\t\tconst node = await NodeFlowsUtil.getEditorCursorKReactFlowNode(editor)\n\t\t\t\tif (node) {\n\t\t\t\t\tvscode.env.clipboard.writeText(JSON.stringify({ ...node, filePattern: node.filePattern }, null, 2))\n\t\t\t\t\tvscode.window.showInformationMessage(`Successfully wrote into clipboard.`)\n\t\t\t\t} else {\n\t\t\t\t\tvscode.window.showErrorMessage(`Get KReact Node Code failed`)\n\t\t\t\t}\n\t\t\t}\n\t\t));\n\n\t\t// kReactCodeTree.editNode\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\"kReactCodeTree.editNode\", async (selectedNode: KC_Node) => {\n\t\t\tif (!selectedNode) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst data = nodeFlowsView.treeDataProvider.topRequirePath(selectedNode);\n\t\t\tvscode.workspace.openTextDocument(data.requirePath).then(doc => {\n\t\t\t\tvscode.window.showTextDocument(doc).then(editor => {\n\t\t\t\t\tconst line = NodeFlowsUtil.findNodeLine(selectedNode, doc);\n\t\t\t\t\tif (line !== null) {\n\t\t\t\t\t\tvar newSelection = new vscode.Selection(new vscode.Position(line, 0), new vscode.Position(line, 0));\n\t\t\t\t\t\teditor.selection = newSelection;\n\t\t\t\t\t\teditor.revealRange(new vscode.Range(newSelection.anchor, newSelection.active))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}));\n\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\"kReactCodeTree.insertIn\", async (selectedNode: KC_Node) => {\n\t\t\tconst editor = vscode.window.activeTextEditor;\n\t\t\tconst node = await NodeFlowsUtil.getEditorCursorKReactFlowNode(editor)\n\t\t\tif (!selectedNode) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!node) {\n\t\t\t\tvscode.window.showInformationMessage(`当前光标位置无效，请在文档中选择一个位置`)\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!selectedNode.children) {\n\t\t\t\tselectedNode.children = []\n\t\t\t}\n\t\t\tselectedNode.children.push(node)\n\t\t\tconst data = nodeFlowsView.treeDataProvider.topRequirePath(selectedNode);\n\t\t\ttry {\n\t\t\t\tlet text = `\\nmodule.exports = ${JSON.stringify(data.nodes.map(n => NodeFlowsUtil.dump(n)), null, 2)}`\n\t\t\t\tfs.writeFile(data.requirePath, text, () => {\n\t\t\t\t\tnodeFlowsView.refresh()\n\t\t\t\t\tvscode.window.showInformationMessage('更新成功')\n\t\t\t\t})\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e, 'errrrr')\n\t\t\t}\n\t\t}));\n\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\"kReactCodeTree.insertAfter\", async (selectedNode: KC_Node) => {\n\t\t\tconst editor = vscode.window.activeTextEditor;\n\t\t\tconst node = await NodeFlowsUtil.getEditorCursorKReactFlowNode(editor)\n\t\t\tif (!selectedNode) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!node) {\n\t\t\t\tvscode.window.showInformationMessage(`当前光标位置无效，请在文档中选择一个位置`)\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnodeFlowsView.treeDataProvider.addChild(node, selectedNode);\n\t\t\tconst data = nodeFlowsView.treeDataProvider.topRequirePath(selectedNode);\n\t\t\ttry {\n\t\t\t\tlet text = `\\nmodule.exports = ${JSON.stringify(data.nodes.map(n => NodeFlowsUtil.dump(n)), null, 2)}`\n\t\t\t\tfs.writeFile(data.requirePath, text, () => {\n\t\t\t\t\tnodeFlowsView.refresh()\n\t\t\t\t\tvscode.window.showInformationMessage('更新成功')\n\t\t\t\t})\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e, 'errrrr')\n\t\t\t}\n\n\t\t}));\n\t}\n\n}","import * as path from 'path'\nimport * as vscode from \"vscode\";\nimport { KC_Node } from '../../type';\n\nexport default class NodeFlowsUtil {\n\n\tstatic getEditorCursorText(editor: vscode.TextEditor) {\n\t\tconst wordRange = editor.document.getWordRangeAtPosition(editor.selection.start)\n\t\tconst text = editor.document.getText(wordRange)\n\t\treturn text;\n\t}\n\n\tstatic async getEditorCursorKReactFlowNode(editor: vscode.TextEditor) {\n\t\tconst wordRange = editor.document.getWordRangeAtPosition(editor.selection.start)\n\t\tif (!wordRange) return;\n\t\tconst text = editor.document.getText(wordRange)\n\t\tif (text) {\n\t\t\tconst findResult = await vscode.commands\n\t\t\t\t.executeCommand(\"vscode.executeDocumentSymbolProvider\", editor.document.uri)\n\t\t\t\t.then((result: vscode.SymbolInformation[]) => {\n\t\t\t\t\tresult = result.filter(r => { return r.location.range.contains(wordRange) })\n\t\t\t\t\tif (result.length === 1) {\n\t\t\t\t\t\treturn result\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\tif (findResult.length === 1) {\n\t\t\t\tif (findResult[0].location.range.isEqual(wordRange)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext: '节点描述',\n\t\t\t\t\t\tsymbol: findResult[0].name,\n\t\t\t\t\t\tfilePattern: path.relative(vscode.workspace.workspaceFolders[0].uri.path, editor.document.uri.path),\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext: '节点描述',\n\t\t\t\t\t\tsymbol: findResult[0].name,\n\t\t\t\t\t\tfilePattern: path.relative(vscode.workspace.workspaceFolders[0].uri.path, editor.document.uri.path),\n\t\t\t\t\t\ttextPattern: text,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic static dump(element: KC_Node) {\n\t\tlet _element: any = {\n\t\t\t// _id: NodeFlowsUtil.elementId(element)\n\t\t};\n\t\t[\n\t\t\t'symbol',\n\t\t\t'text',\n\t\t\t'document',\n\t\t\t// 'children',\n\t\t\t'routers',\n\t\t\t'operationKeys',\n\t\t\t'textPattern',\n\t\t\t'filePattern',\n\t\t\t'requirePath'\n\t\t].forEach(key => {\n\t\t\tif (element[key]) {\n\t\t\t\t_element[key] = element[key]\n\t\t\t}\n\t\t})\n\t\tif (element.children && !element.requirePath) {\n\t\t\t_element.children = element.children.map(c => ({\n\t\t\t\t// _id: NodeFlowsUtil.elementId(c),\n\t\t\t\t...NodeFlowsUtil.dump(c)\n\t\t\t}));\n\t\t}\n\t\treturn _element;\n\t}\n\n\tpublic static elementId(element: KC_Node, useRandom = false) {\n\t\treturn `${element.filePattern || ''}-${element.symbol || ''}-${element.textPattern || ''}-${element.text || ''}-${ useRandom ? Math.random().toFixed(6) : ''}`\n\t}\n\n\tpublic static isElementEqual(element: KC_Node, element2: KC_Node) {\n\t\treturn NodeFlowsUtil.elementId(element) === NodeFlowsUtil.elementId(element2)\n\t}\n\n\tpublic static findNodeLine(node: KC_Node, doc: vscode.TextDocument) {\n\t\tconst originTexts = new Array(doc.lineCount - 1).fill(null).map((_, i) => ({ text: doc.lineAt(i + 1).text.replace(/\\\"\\'/g, ''), line: i + 1 }));\n\t\tconst filterArray = [\n\t\t\t'filePattern',\n\t\t\t'text',\n\t\t\t'symbol',\n\t\t\t'document',\n\t\t].filter(a => node[a]);\n\t\tlet resultLine = null;\n\t\tlet minResults = originTexts;\n\t\tfilterArray.every(filter => {\n\t\t\tconst findByFilter = originTexts.filter(t => !!(t.text && t.text.indexOf(node[filter].replace(/\\\"\\'/g, '')) > 0));\n\t\t\tif (findByFilter.length === 1) {\n\t\t\t\tresultLine = findByFilter[0].line\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (minResults.length > findByFilter.length) {\n\t\t\t\tminResults = findByFilter;\n\t\t\t}\n\t\t\treturn resultLine === null\n\t\t})\n\t\tif (resultLine === null && minResults.length && minResults.length !== originTexts.length) {\n\t\t\treturn minResults[0].line;\n\t\t}\n\t\treturn resultLine;\n\t}\n}","import * as fs from \"fs\";\nimport * as path from 'path'\nimport * as vscode from \"vscode\";\nimport NodeFlowsUtil from \"./nodeFlowsUtil\";\nimport { KC_Node, KC_NODE_ICON_TYPE } from \"../../type\";\nimport { ROOT_PATH, PROJECT_DIR } from \"../../config\";\n\nconst CONFIG_FILE_ABS_PATH = path.join(ROOT_PATH, PROJECT_DIR, '/workflows/index.js')\n\n\nfunction _getSymbols(\n\tdata: KC_Node,\n\tsymbols: string[],\n\tcurrentIndex: number,\n\tlastResults: vscode.SymbolInformation[],\n\tresults: vscode.SymbolInformation[],\n\tdoc?: vscode.TextDocument\n): Promise<vscode.SymbolInformation[]> {\n\n\treturn new Promise((res) => {\n\n\t\tfunction filterResultsByFilePattern(symbols: vscode.SymbolInformation[]) {\n\t\t\treturn (data.filePattern && symbols.filter(r => r.location.uri.path.includes(data.filePattern))) || symbols;\n\t\t}\n\n\t\tfunction handleSearchSymbolResult(result: vscode.SymbolInformation[]): Promise<vscode.SymbolInformation[]> {\n\t\t\treturn new Promise(promiseRes => {\n\t\t\t\tlet filterResult = filterResultsByFilePattern(result).filter(r => {\n\t\t\t\t\t// 过滤掉相关符号\n\t\t\t\t\tconst equivalentName = r.name.replace(/\\(|\\)|\\{|\\}|\\[|\\]/g, '')\n\t\t\t\t\t// console.log(r.name, equivalentName, symbols[currentIndex], 'equivalentNameequivalentName')\n\t\t\t\t\treturn equivalentName === symbols[currentIndex];\n\t\t\t\t})\n\t\t\t\tif (symbols[currentIndex + 1]) {\n\t\t\t\t\t_getSymbols(data, symbols, currentIndex + 1, filterResult, results).then(d => promiseRes(d));\n\t\t\t\t} else {\n\t\t\t\t\tresults = results.concat(filterResult);\n\t\t\t\t\tpromiseRes(results);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif (currentIndex === 0) {\n\t\t\t// executeDocumentSymbolProvider not work\n\t\t\tvscode.commands\n\t\t\t\t.executeCommand(\"vscode.executeWorkspaceSymbolProvider\", symbols[currentIndex])\n\t\t\t\t.then((result: vscode.SymbolInformation[]) => {\n\t\t\t\t\tif (doc) {\n\t\t\t\t\t\t// 筛选filePattern指定的文件来源\n\t\t\t\t\t\tresult = result.filter(r => r.location.uri.path === doc.uri.path);\n\t\t\t\t\t}\n\t\t\t\t\thandleSearchSymbolResult(result).then(r => res(r));\n\t\t\t\t})\n\t\t\treturn;\n\t\t} else {\n\t\t\tconst lastResultsMap = {}\n\t\t\tlastResults.forEach(s => {\n\t\t\t\tif (s.name) {\n\t\t\t\t\tconst equivalentName = s.name.replace(/\\(|\\)|\\{|\\}|\\[|\\]/g, '')\n\t\t\t\t\tlastResultsMap[equivalentName] = true\n\t\t\t\t}\n\t\t\t})\n\t\t\tlastResults.forEach(() => {\n\t\t\t\tvscode.commands\n\t\t\t\t\t.executeCommand(\"vscode.executeWorkspaceSymbolProvider\", symbols[currentIndex])\n\t\t\t\t\t.then((result: vscode.SymbolInformation[]) => {\n\t\t\t\t\t\t// console.log(currentIndex, lastResultsMap, result, 'lastResultsMap executeWorkspaceSymbolProvider')\n\t\t\t\t\t\thandleSearchSymbolResult(result.filter(r => lastResultsMap[r.containerName])).then(r => res(r));\n\t\t\t\t\t})\n\t\t\t})\n\t\t\treturn;\n\t\t}\n\t})\n\n}\n\nfunction getBestMatchingSymbol(data: KC_Node, doc?: vscode.TextDocument): Thenable<vscode.SymbolInformation[]> {\n\t// let onlyResult: vscode.SymbolInformation | undefined = undefined;\n\treturn new Promise((res) => {\n\t\tif (!data.symbol) {\n\t\t\tres([])\n\t\t\treturn;\n\t\t}\n\t\tif (data.symbol) {\n\t\t\tconst symbols = data.symbol.split(\".\");\n\t\t\t_getSymbols(data, symbols, 0, [], [], doc).then(symbolResults => {\n\t\t\t\t// console.log(symbolResults, '_getSymbols results')\n\t\t\t\t// 打开多个吧\n\t\t\t\tif (data.textPattern) {\n\t\t\t\t\tconst pureText = data.textPattern.split('#')[0];\n\t\t\t\t\tconst textPatternLineNumber = data.textPattern.split('#')[1]\n\t\t\t\t\tconst textPatternLine = textPatternLineNumber !== undefined ? parseInt(textPatternLineNumber) : 1;\n\t\t\t\t\tsymbolResults = symbolResults.filter(async (sr) => {\n\t\t\t\t\t\tconst doc = await vscode.workspace.openTextDocument(sr.location.uri)\n\t\t\t\t\t\tconst startLine = sr.location.range.start.line;\n\t\t\t\t\t\tconst endLine = sr.location.range.end.line;\n\t\t\t\t\t\tlet count = 1;\n\t\t\t\t\t\tfor (let i = startLine; i <= endLine; i++) {\n\t\t\t\t\t\t\tconst text = doc.lineAt(i).text;\n\t\t\t\t\t\t\tconst textIndex = text.indexOf(pureText);\n\t\t\t\t\t\t\tif (textIndex >= 0) {\n\t\t\t\t\t\t\t\tif (count === textPatternLine) {\n\t\t\t\t\t\t\t\t\tsr.location.range = sr.location.range.with(new vscode.Position(i, textIndex), new vscode.Position(i, textIndex + text.length))\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t})\n\t\t\t\t\t// console.log(data.textPattern, symbolResults, 'data.textPattern symbolResults')\n\t\t\t\t}\n\t\t\t\tres(symbolResults)\n\t\t\t})\n\t\t}\n\n\t})\n\n}\n\n\n\n\n\nexport class NodeFlowsView {\n\tprivate _view: vscode.TreeView<KC_Node>;\n\tprivate _treeDataProvider: KReactCodeTree;\n\n\tconstructor() {\n\n\t\tthis._initNodeFlowsView();\n\t}\n\n\tprivate async _initNodeFlowsView() {\n\n\t\tif (fs.existsSync(CONFIG_FILE_ABS_PATH)) {\n\t\t\tconst workflows = __non_webpack_require__(`${CONFIG_FILE_ABS_PATH}`)\n\t\t\tthis._treeDataProvider = new KReactCodeTree(workflows)\n\t\t\tdelete __non_webpack_require__.cache[__non_webpack_require__.resolve(`${CONFIG_FILE_ABS_PATH}`)]\n\t\t\tthis._view = vscode.window.createTreeView(\"kReactCodeTree\", {\n\t\t\t\ttreeDataProvider: this._treeDataProvider,\n\t\t\t\tshowCollapseAll: true\n\t\t\t});\n\t\t\tthis._view.onDidChangeSelection(e => {\n\t\t\t\te.selection.forEach(data => {\n\t\t\t\t\tif (data.children && data.children.length) return;\n\t\t\t\t\tconsole.log(data, \"onDidChangeSelection selection\");\n\n\t\t\t\t\tif (data.location) {\n\t\t\t\t\t\tthis._showlocatedDoc(data.location);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// todo 存在Location直接跳转\n\n\t\t\t\t\t// 如果有filePattern 先加载这个fileDocument\n\t\t\t\t\tif (data.filePattern) {\n\t\t\t\t\t\tvscode.workspace.findFiles(data.filePattern).then(files => {\n\t\t\t\t\t\t\tconsole.log(files, \"findFiles\");\n\t\t\t\t\t\t\tif (files.length > 1) {\n\t\t\t\t\t\t\t\tvscode.window.showInformationMessage(`filePattern对应了多个文件，请确定唯一性`)\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!files.length) {\n\t\t\t\t\t\t\t\tvscode.window.showErrorMessage(`未找到filePattern对应文件 ${data.filePattern}`)\n\t\t\t\t\t\t\t\tgetBestMatchingSymbol(data).then((results => {\n\t\t\t\t\t\t\t\t\tthis._showMatchedSymbols(data, results, ROOT_PATH)\n\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst file = files[0];\n\t\t\t\t\t\t\t\tvscode.workspace.openTextDocument(file).then(doc => {\n\t\t\t\t\t\t\t\t\tgetBestMatchingSymbol(data, doc).then((results => {\n\t\t\t\t\t\t\t\t\t\t// 仅有 filepattern结果\n\t\t\t\t\t\t\t\t\t\tif (!results.length) {\n\t\t\t\t\t\t\t\t\t\t\tvscode.window.showTextDocument(doc)\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthis._showMatchedSymbols(data, results, ROOT_PATH)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgetBestMatchingSymbol(data).then((results => {\n\t\t\t\t\t\t\tthis._showMatchedSymbols(data, results, ROOT_PATH)\n\t\t\t\t\t\t}))\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tvscode.window.showWarningMessage(`plz add ${CONFIG_FILE_ABS_PATH}`)\n\t\t}\n\n\t}\n\n\tpublic get treeDataProvider() {\n\t\treturn this._treeDataProvider;\n\t}\n\tpublic refresh() {\n\t\tthis._treeDataProvider.refresh();\n\t}\n\n\tpublic reset() {\n\t\tthis._initNodeFlowsView()\n\t}\n\n\tprivate _showlocatedDoc(location: vscode.Location) {\n\t\tvscode.workspace.openTextDocument(location.uri).then(doc => {\n\t\t\tvscode.window.showTextDocument(doc).then(editor => {\n\t\t\t\teditor.revealRange(location.range);\n\t\t\t\t// var newPosition = position.with(position.line, 0);\n\t\t\t\tvar newSelection = new vscode.Selection(location.range.start, location.range.end);\n\t\t\t\teditor.selection = newSelection;\n\t\t\t})\n\t\t})\n\t}\n\n\t// 用一种封装的Node\n\tprivate _showMatchedSymbols(data: KC_Node, symbolResults: vscode.SymbolInformation[], rootPath: string) {\n\t\t// 更新节点\n\t\tif (!data.children) data.children = [];\n\t\tsymbolResults.forEach(sr => {\n\t\t\t// 暂时没封装 addChild\n\t\t\tdata.children.push({\n\t\t\t\ttext: `${sr.name} - ${path.relative(rootPath, sr.location.uri.path)}`,\n\t\t\t\tlocation: sr.location,\n\t\t\t\tparent: data,\n\t\t\t\ticonType: KC_NODE_ICON_TYPE.result\n\t\t\t})\n\t\t})\n\t\tthis._treeDataProvider.refresh();\n\t\tthis._view.reveal(data.children[0], { select: false, expand: true, focus: true })\n\t\tif (symbolResults.length === 1) {\n\t\t\tthis._showlocatedDoc(symbolResults[0].location)\n\t\t}\n\t}\n}\n\n\n\nexport class KReactCodeTree implements vscode.TreeDataProvider<KC_Node> {\n\tprivate _tree: KC_Node[];\n\tprivate _onDidChangeTreeData: vscode.EventEmitter<KC_Node | undefined> = new vscode.EventEmitter<KC_Node | undefined>();\n\treadonly onDidChangeTreeData: vscode.Event<KC_Node | undefined> = this._onDidChangeTreeData.event;\n\n\tconstructor(tree: KC_Node[]) {\n\t\ttree.forEach(ct => {\n\t\t\tthis._initTree(ct);\n\t\t})\n\t\tthis._tree = tree;\n\t}\n\tprivate _initTree(element: KC_Node) {\n\n\t\tif (!element.iconType) {\n\t\t\tif (element.children && element.children.length) {\n\t\t\t\telement.iconType = KC_NODE_ICON_TYPE.node;\n\t\t\t} else {\n\t\t\t\tif (element.symbol) {\n\t\t\t\t\telement.iconType = KC_NODE_ICON_TYPE.node;\n\t\t\t\t} else {\n\t\t\t\t\tif (element.filePattern) {\n\t\t\t\t\t\telement.iconType = KC_NODE_ICON_TYPE.file;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.iconType = KC_NODE_ICON_TYPE.text;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tif (element.requirePath) {\n\t\t\t// __kReactCodeTree__/workflows\n\t\t\tconst truePath = path.join(ROOT_PATH, PROJECT_DIR, '/workflows', element.requirePath)\n\t\t\ttry {\n\t\t\t\telement.children = __non_webpack_require__(`${truePath}`)\n\t\t\t\tdelete __non_webpack_require__.cache[__non_webpack_require__.resolve(`${truePath}`)]\n\t\t\t} catch {\n\t\t\t\tvscode.window.showErrorMessage(`${truePath}有误`)\n\t\t\t}\n\t\t}\n\t\tif (element.children && element.children.length) {\n\t\t\telement.children.forEach(c => {\n\t\t\t\tc.parent = element;\n\t\t\t\tthis._initTree(c);\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic addChild(element: KC_Node, selectedNode?: KC_Node) {\n\t\tlet queue = this._tree;\n\t\tif (selectedNode.parent) {\n\t\t\tif (!selectedNode.parent.children) {\n\t\t\t\tselectedNode.parent.children = []\n\t\t\t}\n\t\t\tqueue = selectedNode.parent.children\n\t\t}\n\t\tconst findIndex = queue.findIndex(c => NodeFlowsUtil.isElementEqual(c, selectedNode));\n\t\tif (findIndex >= 0) {\n\t\t\tqueue.splice(findIndex + 1, 0, element)\n\t\t} else {\n\t\t\tqueue.push(element)\n\t\t}\n\t}\n\tpublic topRequirePath(element: KC_Node) {\n\t\tlet topParent = element;\n\t\tif (!element.parent) {\n\t\t\treturn {\n\t\t\t\tnodes: this._tree,\n\t\t\t\trequirePath: CONFIG_FILE_ABS_PATH\n\t\t\t}\n\t\t}\n\t\twhile (topParent.parent && !topParent.requirePath) {\n\t\t\ttopParent = topParent.parent\n\t\t}\n\t\tif (!topParent.parent && topParent.requirePath) {\n\t\t\treturn {\n\t\t\t\tnodes: topParent.children,\n\t\t\t\trequirePath: topParent.requirePath\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tnodes: this._tree,\n\t\t\t\trequirePath: CONFIG_FILE_ABS_PATH\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic getChildren(element: KC_Node) {\n\t\tif (!element) return this._tree;\n\t\treturn element.children || [];\n\t}\n\tpublic getTreeItem(element: KC_Node): vscode.TreeItem {\n\n\t\treturn {\n\t\t\tlabel: element.text,\n\t\t\t// tooltip: '1',\n\t\t\t...this._getIconPath(element.children && element.children.length ? KC_NODE_ICON_TYPE.node : element.iconType),\n\t\t\tcollapsibleState: element.children && element.children.length ? vscode.TreeItemCollapsibleState.Collapsed : vscode.TreeItemCollapsibleState.None\n\t\t};\n\t}\n\tpublic getParent(element: KC_Node) {\n\t\treturn element.parent;\n\t}\n\tpublic refresh() {\n\t\tthis._onDidChangeTreeData.fire();\n\t}\n\tprivate _getIconPath(iconType?: KC_NODE_ICON_TYPE) {\n\t\tswitch (iconType) {\n\t\t\tdefault: {\n\t\t\t\treturn {}\n\t\t\t}\n\t\t\tcase KC_NODE_ICON_TYPE.node: {\n\t\t\t\treturn {\n\t\t\t\t\ticonPath: {\n\t\t\t\t\t\tlight: `${path.join(__filename, '..', '..', 'resources', 'light', 'node.svg')}`,\n\t\t\t\t\t\tdark: `${path.join(__filename, '..', '..', 'resources', 'dark', 'node.svg')}`,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase KC_NODE_ICON_TYPE.text: {\n\t\t\t\treturn {\n\t\t\t\t\ticonPath: {\n\t\t\t\t\t\tlight: `${path.join(__filename, '..', '..', 'resources', 'light', 'text.svg')}`,\n\t\t\t\t\t\tdark: `${path.join(__filename, '..', '..', 'resources', 'dark', 'text.svg')}`,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase KC_NODE_ICON_TYPE.result: {\n\t\t\t\treturn {\n\t\t\t\t\ticonPath: {\n\t\t\t\t\t\tlight: path.join(__filename, '..', '..', 'resources', 'light', 'gou.svg'),\n\t\t\t\t\t\tdark: path.join(__filename, '..', '..', 'resources', 'dark', 'gou.svg'),\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase KC_NODE_ICON_TYPE.file: {\n\t\t\t\treturn {\n\t\t\t\t\ticonPath: {\n\t\t\t\t\t\tlight: path.join(__filename, '..', '..', 'resources', 'light', 'document.svg'),\n\t\t\t\t\t\tdark: path.join(__filename, '..', '..', 'resources', 'dark', 'document.svg'),\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nexport class KReactCodeTreeItem extends vscode.TreeItem {\n\n\tconstructor(\n\t\tpublic readonly label: string,\n\t\tprivate version: string,\n\t\tpublic readonly collapsibleState: vscode.TreeItemCollapsibleState,\n\t\tpublic readonly command?: vscode.Command\n\t) {\n\t\tsuper(label, collapsibleState);\n\t}\n\n\tget tooltip(): string {\n\t\treturn `${this.label}-${this.version}`;\n\t}\n\n\tget description(): string {\n\t\treturn this.version;\n\t}\n\n\ticonPath = {\n\t\tlight: path.join(__filename, '..', '..', 'resources', 'light', 'dependency.svg'),\n\t\tdark: path.join(__filename, '..', '..', 'resources', 'dark', 'dependency.svg')\n\t};\n\n\tcontextValue = 'dependency';\n\n}","\nimport * as fs from 'fs'\nimport * as path from 'path'\nimport * as vscode from \"vscode\";\nimport { ROOT_PATH, PROJECT_DIR } from '../../config'\nimport { KRouterTree, KRouter } from './routerTree';\nimport { pickFiles2Open, getFileAbsolutePath, GotoTextDocument } from '../../extensionUtil';\n\nexport default class RoutersCommand {\n\n\tpublic kRouterTree: KRouterTree;\n\n\tconstructor(context: vscode.ExtensionContext) {\n\t\tthis.init(context)\n\t}\n\n\tloadRouters() {\n\t\tconst ROUTER_FILE_ABS_PATH = path.join(ROOT_PATH, PROJECT_DIR, '/router_config.js')\n\t\tif (!fs.existsSync(ROUTER_FILE_ABS_PATH)) {\n\t\t\tvscode.window.showErrorMessage('未找到路由配置文件')\n\t\t\treturn\n\t\t}\n\t\treturn __non_webpack_require__(`${ROUTER_FILE_ABS_PATH}`);\n\t}\n\n\tinit(context: vscode.ExtensionContext) {\n\n\t\tthis.kRouterTree = new KRouterTree(this.loadRouters())\n\n\t\t// 右键菜单 goFileParentFile\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\"extension.goFileParentFile\", (uri: vscode.Uri) => {\n\t\t\tconst result = this.kRouterTree.getFileParents(uri.fsPath)\n\t\t\tconsole.log(result, 'resultresultresult');\n\t\t\tif (!result.parents) {\n\t\t\t\tif (result.isTopRouter) {\n\t\t\t\t\tvscode.window.showInformationMessage('本文件是顶层Router')\n\t\t\t\t} else {\n\t\t\t\t\tvscode.window.showInformationMessage('无上层节点')\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpickFiles2Open(result.parents.map((r: string) => ({ label: path.relative(ROOT_PATH, r), target: r })))\n\t\t\t}\n\t\t}))\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\"kReactRouterTree.showFileParentsInPick\", () => {\n\t\t\tconst uri = vscode.window.activeTextEditor.document.uri;\n\t\t\tif (!uri) {\n\t\t\t\tvscode.window.showInformationMessage('不存在打开的文档')\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst parents = this.recursiveGetParentsDepthFirt(uri.fsPath, [], new Map(), 0)\n\t\t\tlet currentDepth = 0\n\t\t\tlet sortResult: { path: string, depth: number }[] = []\n\t\t\tlet result: { path: string, depth: number }[] = []\n\t\t\tlet maxDepth = Math.max(...parents.map(p => p.depth))\n\t\t\tparents.forEach(p => {\n\t\t\t\tif (currentDepth > p.depth) {\n\t\t\t\t\tresult = result.concat(sortResult.reverse())\n\t\t\t\t\tcurrentDepth = p.depth\n\t\t\t\t\tsortResult = []\n\t\t\t\t}\n\t\t\t\tsortResult.push({ path: p.path, depth: maxDepth - p.depth })\n\t\t\t\tcurrentDepth = p.depth + 1\n\t\t\t})\n\t\t\tif (sortResult.length) {\n\t\t\t\tresult = result.concat(sortResult.reverse())\n\t\t\t}\n\t\t\tpickFiles2Open(result.map(r => (\n\t\t\t\t{\n\t\t\t\t\tlabel: `${new Array(r.depth).fill('    ').join('')}|-${path.relative(ROOT_PATH, r.path)}`,\n\t\t\t\t\ttarget: r.path\n\t\t\t\t})), false)\n\t\t}))\n\n\t\t// 右键菜单 goFileTopParentFile\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\"extension.goFileTopParentFile\", (uri: vscode.Uri) => {\n\t\t\tlet parents = this.recursiveGetParents(uri.fsPath, [], new Map())\n\t\t\tpickFiles2Open(parents.map((r: string) => ({ label: path.relative(ROOT_PATH, r), target: r })))\n\t\t}))\n\t\t// 右键菜单 getFileAppUrl\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand(\"extension.getFileAppUrl\", (uri: vscode.Uri) => {\n\t\t\tconst routers = this.kRouterTree.queryFileAppUrl(uri.fsPath)\n\t\t\tif (routers) {\n\t\t\t\t// TODO 增加一个端口配置\n\t\t\t\tvscode.env.clipboard.writeText(routers.map(r => 'https://localhost:3000' + r).join('\\n'));\n\t\t\t\tvscode.window.showInformationMessage('复制成功')\n\t\t\t} else {\n\t\t\t\tvscode.window.showInformationMessage('暂无结果')\n\t\t\t}\n\t\t}))\n\n\t\t// 快捷键搜索\n\t\tcontext.subscriptions.push(vscode.commands.registerCommand('kReactRouterTree.SearchRouter', async () => {\n\t\t\tconst result: any = await vscode.window.showQuickPick(this.kRouterTree.allRouters.map((r: KRouter) => ({ label: r.path })), {\n\t\t\t\tplaceHolder: '请输入 pathname',\n\t\t\t});\n\t\t\tif (result && result.label) {\n\t\t\t\tconst componentRelativePath = this.kRouterTree.queryComponentRelativePathByPath(result.label)\n\t\t\t\tif (componentRelativePath) {\n\t\t\t\t\tconst filePath = getFileAbsolutePath(componentRelativePath)\n\t\t\t\t\tGotoTextDocument(filePath)\n\t\t\t\t}\n\t\t\t}\n\t\t}))\n\t}\n\n\trecursiveGetParents(path: string, result: string[], preventLoopMap: Map<string, boolean>) {\n\t\tif (preventLoopMap.has(path)) {\n\t\t\treturn result;\n\t\t}\n\t\tpreventLoopMap.set(path, true);\n\t\tconst parents = (this.kRouterTree.getFileParents(path).parents || []).filter((a: string) => a !== path);\n\t\tif (parents && parents.length) {\n\t\t\tparents.forEach((p: string) => {\n\t\t\t\tconst p_parents = this.kRouterTree.getFileParents(p).parents\n\t\t\t\tif (!(p_parents && p_parents.length)) {\n\t\t\t\t\tresult.push(p)\n\t\t\t\t} else {\n\t\t\t\t\tthis.recursiveGetParents(p, result, preventLoopMap)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\treturn result;\n\t}\n\n\trecursiveGetParentsDepthFirt(path: string, result: { path: string, depth: number }[], preventLoopMap: Map<string, boolean>, depth: number): { path: string, depth: number }[] {\n\t\tif (preventLoopMap.has(path)) {\n\t\t\treturn result;\n\t\t}\n\t\tpreventLoopMap.set(path, true);\n\t\tconst parents = (this.kRouterTree.getFileParents(path).parents || []).filter((a: string) => a !== path);\n\t\tif (parents && parents.length) {\n\t\t\tparents.forEach((p: string) => {\n\t\t\t\tresult.push({ path: p, depth })\n\t\t\t\tthis.recursiveGetParentsDepthFirt(p, result, preventLoopMap, depth + 1)\n\t\t\t})\n\t\t}\n\t\treturn result;\n\t}\n\n}","import * as path from 'path'\n\nimport * as vscode from \"vscode\";\nimport { getFileAbsolutePath } from '../../extensionUtil';\n\n\nexport type PathComponentPathPair = {\n\tpath: string\n\tcomponentRelativePath: string\n}\n\n\n// 文件 - 父节点表\nconst FILE_PARENTS_MAP: Map<string, string[]> = new Map();\n\n// 文件 - 引入表\nconst FILE_IMPORTS_MAP: Map<string, string[]> = new Map();\n\n// 文件 - 路由表\nconst FILE_ROUTERS_MAP: Map<string, string[]> = new Map();\n\n// 路由表\nconst ROUTERS_MAP: Map<string, PathComponentPathPair> = new Map();\n\n\nexport type KRouter = {\n\tpath?: string\n\tuiNode?: boolean\n\trouters?: KRouter[]\n\tIndexRoute?: boolean\n\tcomponentRelativePath: string\n}\n\n\n\nasync function getRelatedFiles(id: string, absPath: string) {\n\tif (!id || !absPath) {\n\t\treturn;\n\t}\n\tconst mapImports = FILE_IMPORTS_MAP.get(absPath);\n\tconst imports = mapImports || [];\n\tif (mapImports) {\n\t\tKRouterTreeItem.setRelatedFiles(id, mapImports)\n\t\tmapImports.forEach(item => {\n\t\t\tgetRelatedFiles(id, item)\n\t\t})\n\t} else {\n\t\ttry {\n\t\t\tconst doc = await vscode.workspace.openTextDocument(getFileAbsolutePath(absPath, false))\n\t\t\tfor (let i = 1; i < doc.lineCount - 1; i++) {\n\t\t\t\tconst lineText = doc.lineAt(i).text;\n\t\t\t\tif (/\\sfrom\\s\\'/.test(lineText)) {\n\t\t\t\t\tconst texts = lineText.split(' ')\n\t\t\t\t\tif (texts[texts.length - 1]) {\n\t\t\t\t\t\tconst item = texts[texts.length - 1].replace('\\'', '').replace('\\\"', '');\n\t\t\t\t\t\titem && imports.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (/import\\(\\'/.test(lineText)) {\n\t\t\t\t\tconst texts = lineText.split('\\'')\n\t\t\t\t\tif (texts[1]) {\n\t\t\t\t\t\tconst item = texts[1].replace('\\'', '').replace('\\\"', '');\n\t\t\t\t\t\titem && imports.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (/function(.+)/.test(lineText) || /export(.+)/.test(lineText)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst relativeImports = imports.filter(i => i.includes('/')).map(a => a.replace(/\\'/g, '').replace(/\\\"/g, '')).map(item => {\n\t\t\t\tif (/^\\.+/.test(item)) {\n\t\t\t\t\treturn path.join(path.dirname(absPath), item)\n\t\t\t\t}\n\t\t\t\tif (/src\\//.test(item)) {\n\t\t\t\t\treturn getFileAbsolutePath(item)\n\t\t\t\t}\n\t\t\t\treturn undefined\n\t\t\t}).filter(a => !!a);\n\n\n\t\t\tif (absPath === '/Users/kunsam/Downloads/le-project/wechat-web/src/app/containers/product/detail_buttons/index.jsx') {\n\t\t\t\tconsole.log(id, relativeImports, getFileAbsolutePath(absPath, false), 'relativeImports \\n');\n\t\t\t}\n\n\t\t\trelativeImports.forEach(nextPath => {\n\t\t\t\tif (!FILE_ROUTERS_MAP.has(nextPath)) {\n\t\t\t\t\tgetRelatedFiles(id, nextPath)\n\t\t\t\t}\n\t\t\t})\n\t\t\tFILE_IMPORTS_MAP.set(absPath, relativeImports)\n\t\t\tKRouterTreeItem.setRelatedFiles(id, relativeImports, absPath)\n\n\t\t} catch {\n\n\t\t}\n\t}\n}\n\n\nexport class KRouterTreeItem {\n\tpublic id: string;\n\tpublic path: string;\n\tpublic parentId: string;\n\tpublic IndexRoute?: boolean;\n\tpublic routers: KRouterTreeItem[] = []\n\tpublic componentRelativePath: string;\n\tpublic uiNode?: boolean\n\n\tconstructor(node: KRouter, parentId: string = '') {\n\t\tthis.path = node.path || '';\n\t\tthis.parentId = parentId;\n\t\tthis.componentRelativePath = node.componentRelativePath;\n\t\tthis.id = (parentId ? parentId + '/' : '') + this.path;\n\t\tthis.uiNode = node.uiNode;\n\t\tthis._addToTree(this, node.routers)\n\t\tconst absPath = getFileAbsolutePath(node.componentRelativePath)\n\t\tKRouterTreeItem.setRelatedFiles(this.id, [absPath])\n\t\tgetRelatedFiles(this.id, absPath)\n\t}\n\n\tstatic setRelatedFiles(id: string, relatedFiles: string[], parentPath?: string) {\n\t\trelatedFiles.forEach(r => {\n\t\t\tif (!FILE_ROUTERS_MAP.has(r)) {\n\t\t\t\tFILE_ROUTERS_MAP.set(r, [id]);\n\t\t\t} else {\n\t\t\t\tFILE_ROUTERS_MAP.set(r, FILE_ROUTERS_MAP.get(r).concat([id]))\n\t\t\t}\n\t\t\t// 写入文件树依赖\n\t\t\tif (parentPath) {\n\t\t\t\tif (!FILE_PARENTS_MAP.has(r)) {\n\t\t\t\t\tFILE_PARENTS_MAP.set(r, [parentPath]);\n\t\t\t\t} else {\n\t\t\t\t\tconst list = FILE_PARENTS_MAP.get(r);\n\t\t\t\t\tif (list.find(l => l !== parentPath)) {\n\t\t\t\t\t\tFILE_PARENTS_MAP.set(r, FILE_PARENTS_MAP.get(r).concat([parentPath]))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _addToTree(parent: KRouterTreeItem, routers: KRouter[] = []) {\n\t\tlet children: KRouterTreeItem[];\n\t\tif (!parent) {\n\t\t\tchildren = this.routers;\n\t\t} else {\n\t\t\tif (!parent.routers) {\n\t\t\t\tparent.routers = [];\n\t\t\t}\n\t\t\tchildren = parent.routers;\n\t\t}\n\n\t\tif (!parent.routers) {\n\t\t\tparent.routers = []\n\t\t}\n\t\tconst parentId = parent.id;\n\t\trouters.forEach(r => {\n\t\t\tif (r.componentRelativePath) {\n\t\t\t\tconst node = new KRouterTreeItem(r, parentId);\n\t\t\t\tchildren.push(node)\n\t\t\t\tthis._addToTree(node, r.routers)\n\t\t\t}\n\t\t})\n\t}\n}\n\n// , fileTree: any, fileImports: { path: string, imports: string[] }[]\nexport class KRouterTree {\n\n\tpublic items: KRouterTreeItem[] = [];\n\tpublic allRouters: PathComponentPathPair[] = []\n\n\t// private _treeMap: Map<string, KRouterTreeItem> = new Map();\n\n\t// public flatternRouters: \n\tconstructor(routers: KRouter[]) {\n\t\tthis.items = routers.map(r => r.componentRelativePath && new KRouterTreeItem(r))\n\t\tthis._setFlatternRouters(routers, '')\n\t\tthis.allRouters = this.getFlatternRouters()\n\t}\n\n\tpublic queryFileAppUrl(absPath: string) {\n\t\tlet queryPath = absPath;\n\t\tif (!FILE_ROUTERS_MAP.has(queryPath)) {\n\t\t\tqueryPath = queryPath.replace(/\\/index\\.(j|t)sx?$/g, '')\n\t\t}\n\t\tif (!FILE_ROUTERS_MAP.has(queryPath)) {\n\t\t\tqueryPath = queryPath.replace(/(\\.(j|t)sx?)$/g, '')\n\t\t}\n\t\treturn FILE_ROUTERS_MAP.get(queryPath)\n\t}\n\n\tpublic getFileParents(absPath: string): { isTopRouter: boolean, parents?: string[] } {\n\t\tlet queryPath = absPath;\n\t\tlet isTopRouter = false;\n\t\tif (!FILE_PARENTS_MAP.has(queryPath)) {\n\t\t\tqueryPath = queryPath.replace(/\\/index\\.(j|t)sx?$/g, '')\n\t\t\tif (FILE_ROUTERS_MAP.has(queryPath)) {\n\t\t\t\tisTopRouter = true\n\t\t\t}\n\t\t}\n\t\tif (!FILE_PARENTS_MAP.has(queryPath)) {\n\t\t\tqueryPath = queryPath.replace(/(\\.(j|t)sx?)$/g, '')\n\t\t\tif (FILE_ROUTERS_MAP.has(queryPath)) {\n\t\t\t\tisTopRouter = true\n\t\t\t}\n\t\t}\n\t\tif (FILE_ROUTERS_MAP.has(queryPath)) {\n\t\t\tisTopRouter = true\n\t\t}\n\t\treturn { isTopRouter, parents: FILE_PARENTS_MAP.get(queryPath) }\n\t}\n\n\tprivate _setFlatternRouters(routers?: KRouter[], parentPath?: string) {\n\t\tif (!routers) return\n\t\trouters.forEach(r => {\n\t\t\tif (r.path) {\n\t\t\t\tlet pathname = parentPath + (r.path.includes('/') ? r.path : `/${r.path}`)\n\t\t\t\tROUTERS_MAP.set(pathname, { path: pathname, componentRelativePath: r.componentRelativePath })\n\t\t\t}\n\t\t\tthis._setFlatternRouters(r.routers, r.path)\n\t\t})\n\t}\n\tpublic getFlatternRouters() {\n\t\tlet result = []\n\t\tROUTERS_MAP.forEach(value => {\n\t\t\tresult.push(value)\n\t\t})\n\t\treturn result\n\t}\n\tpublic queryComponentRelativePathByPath(rpath: string) {\n\t\tconst result = ROUTERS_MAP.get(rpath);\n\t\treturn result && result.componentRelativePath\n\t}\n\n}","import * as vscode from \"vscode\";\n\n\nexport const PROJECT_DIR = '/__kReactCodeTree__'\n\nexport const ROOT_PATH:  string = vscode.workspace.workspaceFolders[0].uri.path;\n \n","\"use strict\";\nimport * as vscode from \"vscode\";\nimport KeybindingCommands from './commands/keybinding';\nimport NodeFlowCommands from './commands/nodeflow';\nimport RoutersCommand from './commands/router';\n\n\n\nexport function activate(context: vscode.ExtensionContext) {\n\n\n  // 在文档右侧打开定义\n  context.subscriptions.push(vscode.commands.registerCommand('extension.addOpenAsideToContextMenu', async () => {\n    await vscode.commands.executeCommand('editor.action.revealDefinitionAside',\n      {\n        openToSide: true\n      });\n  }));\n\n  new NodeFlowCommands(context)\n  new KeybindingCommands(context)\n  new RoutersCommand(context)\n\n\n\n}\n","\nimport * as fs from 'fs'\nimport * as path from \"path\";\nimport * as vscode from \"vscode\";\nimport { ROOT_PATH } from './config'\n\n/**\n * 获取文件绝对路径\n *\n * @export\n * @param {string} filePath\n * @param {boolean} [isRelative=true]\n * @returns\n */\nexport function getFileAbsolutePath(filePath: string, isRelative = true) {\n\t// 没带后缀\n\tconst fsPath = isRelative ? path.resolve(path.join(ROOT_PATH, filePath)) : filePath;\n\tlet trueFsPath = ''\n\tif (fs.existsSync(fsPath)) {\n\t\tif (fs.statSync(fsPath).isDirectory()) {\n\t\t\tlet NoneJSIndexes = [];\n\t\t\tfs.readdirSync(fsPath).forEach(f => {\n\t\t\t\tif (f.includes('index')) {\n\t\t\t\t\tif (/\\.(jsx?|tsx?)$/g.test(f)) {\n\t\t\t\t\t\ttrueFsPath = path.join(fsPath, f);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tNoneJSIndexes.push(path.join(fsPath, f))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!trueFsPath && NoneJSIndexes.length) {\n\t\t\t\tNoneJSIndexes.forEach((indexPath) => {\n\t\t\t\t\tif (/\\.(s?css|less|sass)$/g.test(indexPath)) {\n\t\t\t\t\t\ttrueFsPath = indexPath\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\ttrueFsPath = fsPath;\n\t\t}\n\t} else {\n\t\t\t// 可能是由没带后缀引起的\n\t\t\tconst dirName = path.dirname(fsPath);\n\t\t\tif (fs.existsSync(dirName)) {\n\t\t\t\tfs.readdirSync(dirName).every(f => {\n\t\t\t\t\t// 只判断这两种类型\n\t\t\t\t\tif (/\\.(jsx?|tsx?)$/g.test(f)) {\n\t\t\t\t\t\tif (f.split('.')[0] === path.basename(fsPath)) {\n\t\t\t\t\t\t\tif (!fs.statSync(path.join(dirName, f)).isDirectory()) {\n\t\t\t\t\t\t\t\ttrueFsPath = path.join(dirName, f);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn !trueFsPath\n\t\t\t\t})\n\t\t\t}\n\t}\n\treturn trueFsPath;\n}\n/**\n * vscode打开文件[绝对路径]\n *\n * @export\n * @param {string} trueFsPath\n */\nexport function GotoTextDocument(trueFsPath: string) {\n\tif (!trueFsPath) {\n\t\tvscode.window.showInformationMessage(`未找到结果`)\n\t} else {\n\t\ttry {\n\t\t\tvscode.workspace.openTextDocument(trueFsPath).then((doc) => {\n\t\t\t\tvscode.window.showTextDocument(doc)\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tvscode.window.showInformationMessage(`无法打开${trueFsPath}`)\n\t\t}\n\t}\n}\n\n/**\n * vscode pick 文件列表并打开选中文件 [绝对路径]\n *\n * @export\n * @param {string[]} files\n */\nexport function pickFiles2Open(files: { label: string, target: string}[], isOpenFirst = true) {\n\tif (files.length === 1 && isOpenFirst) {\n\t\tGotoTextDocument( getFileAbsolutePath(files[0].target, false) )\n\t} else {\n\t\tif (files.length) {\n\t\t\tvscode.window.showQuickPick(files, {\n\t\t\t\tplaceHolder: '请选择打开的文件',\n\t\t\t}).then(result => {\n\t\t\t\tif (result && result.target) {\n\t\t\t\t\tGotoTextDocument(getFileAbsolutePath(result.target, false))\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}","// https://github.com/wangchunsen/vscode-bracket-select/edit/master/src/bracketSelectMain.ts\n\n'use strict';\n\nexport namespace bracketUtil {\n    let openBarcket = ['(', '{', '[']\n    let closeBracket = [')', '}', ']']\n    let quoteBrackets = ['\"', \"'\"]\n\n    export function isMatch(open: string, close: string): Boolean {\n        let opentIndex = openBarcket.indexOf(open)\n        if (opentIndex >= 0) {\n            return closeBracket[opentIndex] == close;\n        } else if (isQuoteBracket(open)) {\n            return open == close;\n        }\n        return false;\n    }\n\n    export function isOpenBracket(char: string): Boolean {\n        return openBarcket.indexOf(char) >= 0;\n    }\n\n    export function isCloseBracket(char: string): Boolean {\n        return closeBracket.indexOf(char) >= 0;\n    }\n\n    export function isQuoteBracket(char: string): Boolean {\n        return quoteBrackets.indexOf(char) >= 0;\n    }\n}","'use strict';\n// The module 'vscode' contains the VS Code extensibility API\n// Import the module and reference it with the alias vscode in your code below\nimport * as vscode from 'vscode';\nimport { bracketUtil } from './bracketUtil';\n\n\n// https://github.com/wangchunsen/vscode-bracket-select/edit/master/src/bracketSelectMain.ts\n\nclass SearchResult {\n    bracket: string;\n    offset: number;\n\n    constructor(bracket: string, offset: number) {\n        this.bracket = bracket;\n        this.offset = offset;\n    }\n}\n\nfunction findBackward(text: string, index: number): SearchResult {\n    const bracketStack: string[] = [];\n    for (let i = index; i >= 0; i--) {\n        let char = text.charAt(i);\n        // if it's a quote, we can not infer it is a open or close one \n        //so just return, this is for the case current selection is inside a string; \n        if (bracketUtil.isQuoteBracket(char) && bracketStack.length == 0) {\n            return new SearchResult(char, i);\n        }\n        if (bracketUtil.isOpenBracket(char)) {\n            if (bracketStack.length == 0) {\n                return new SearchResult(char, i);\n            } else {\n                let top = bracketStack.pop();\n                if (!bracketUtil.isMatch(char, top)) {\n                    throw 'Unmatched bracket pair';\n                }\n            }\n        } else if (bracketUtil.isCloseBracket(char)) {\n            bracketStack.push(char);\n        }\n    }\n    //we are get to edge\n    return null;\n}\n\nfunction findForward(text: string, index: number): SearchResult {\n    const bracketStack: string[] = [];\n    for (let i = index; i < text.length; i++) {\n        let char = text.charAt(i);\n        if (bracketUtil.isQuoteBracket(char) && bracketStack.length == 0) {\n            return new SearchResult(char, i);\n        }\n        if (bracketUtil.isCloseBracket(char)) {\n            if (bracketStack.length == 0) {\n                return new SearchResult(char, i);\n            } else {\n                let top = bracketStack.pop();\n                if (!bracketUtil.isMatch(top, char)) {\n                    throw 'Unmatched bracket pair'\n                }\n            }\n        } else if (bracketUtil.isOpenBracket(char)) {\n            bracketStack.push(char);\n        }\n    }\n    return null;\n}\n\nfunction showInfo(msg: string): void {\n    vscode.window.showInformationMessage(msg);\n}\n\nfunction getSearchContext() {\n    const editor = vscode.window.activeTextEditor;\n    const selection = editor.selection;\n    let selectionStart = editor.document.offsetAt(editor.selection.anchor);\n    let selectionEnd = editor.document.offsetAt(editor.selection.active);\n    if (selection.isReversed) {\n        //exchange\n        [selectionStart, selectionEnd] = [selectionEnd, selectionStart]\n    }\n    return {\n        backwardStarter: selectionStart - 1, //coverage vscode selection index to text index\n        forwardStarter: selectionEnd,\n        text: editor.document.getText()\n    }\n}\n\nfunction doSelection(start: number, end: number) {\n    const editor = vscode.window.activeTextEditor;\n    editor.selection = new vscode.Selection(\n        editor.document.positionAt(start + 1), //convert text index to vs selection index\n        editor.document.positionAt(end));\n}\nfunction isMatch(r1: SearchResult, r2: SearchResult) {\n    return r1 != null && r2 != null && bracketUtil.isMatch(r1.bracket, r2.bracket);\n}\n\nexport function selectText(includeBrack: boolean) {\n    const searchContext = getSearchContext();\n    let { text, backwardStarter, forwardStarter } = searchContext;\n    if (backwardStarter < 0 || forwardStarter >= text.length) {\n        return;\n    }\n\n    let selectionStart: number, selectionEnd: number;\n    var backwardResult = findBackward(searchContext.text, searchContext.backwardStarter);\n    var forwardResult = findForward(searchContext.text, searchContext.forwardStarter);\n\n    while (forwardResult != null\n        && !isMatch(backwardResult, forwardResult)\n        && bracketUtil.isQuoteBracket(forwardResult.bracket)) {\n        forwardResult = findForward(searchContext.text, forwardResult.offset + 1);\n    }\n    while (backwardResult != null\n        && !isMatch(backwardResult, forwardResult)\n        && bracketUtil.isQuoteBracket(backwardResult.bracket)) {\n        backwardResult = findBackward(searchContext.text, backwardResult.offset - 1);\n    }\n\n    if (!isMatch(backwardResult, forwardResult)) {\n        showInfo('Unmatched bracket pair')\n        return;\n    }\n    // we are next to a bracket\n    // this is the case for doule press select\n    if (backwardStarter == backwardResult.offset && forwardResult.offset == forwardStarter) {\n        selectionStart = backwardStarter - 1;\n        selectionEnd = forwardStarter + 1;\n    } else {\n        if (includeBrack) {\n            selectionStart = backwardResult.offset - 1;\n            selectionEnd = forwardResult.offset + 1;\n        } else {\n            selectionStart = backwardResult.offset;\n            selectionEnd = forwardResult.offset;\n        }\n    }\n        doSelection(selectionStart, selectionEnd);\n        \n        const editor = vscode.window.activeTextEditor;\n        return editor.document.getText(\n            new vscode.Range(\n                editor.document.positionAt(selectionStart + 1),\n                editor.document.positionAt(selectionEnd)\n            )\n        )\n}\n\n\n// //This is the main extension point\n// export function activate(context: vscode.ExtensionContext) {\n//     context.subscriptions.push(\n//         vscode.commands.registerCommand('bracket-select.select', function () {\n//             selectText(false);\n//         }),\n//         vscode.commands.registerCommand('bracket-select.select-include', function () {\n//             selectText(true);\n//         })\n//     );\n// }\n\n// // this method is called when your extension is deactivated\n// export function deactivate() {\n// }","import * as vscode from 'vscode';\n\nexport type KC_RouterInfo = {\n\tpathname: string;\n\tquery: {\n\t\tkey?: string;\n\t}\n}\n\n\n\n// 先指定 filePattern\n// 然后寻找 symbol 查找节点必须存在，不存在未纯文字展示类型\n// a.b.c 分步查找 symbol\n// 根据 textPattern 过滤 查找结果\n// 将结果写入node 子节点中并展开\n// 点击子节点跳转到对应文档位置\n\nexport enum KC_NODE_ICON_TYPE {\n\ttext = 'text',\n\tnode = 'node',\n\tresult = 'result',\n\tfile = 'file'\n}\n\nexport type KC_Node = {\n\n\t// 如果全局存在多个symbol最好指定 文件 filePattern\n\tsymbol?: string // 没有symbol 仅显示文字，点击没用    react项目中可能symbol 会相同\n\t// 多次出现以第一个为准\n\ttext: string\n\n\n\n\tdocument?: string\n\tchildren?: KC_Node[]\n\n\trouters?: string[] // 对应的路由列表\n\toperationKeys?: string // 会做一个操作表  在其他地方如谷歌拓展程序里查找对应的操作流，根据操作流执行，定位到具体的UI页面/组件\n\n\t// 本来想用 symbol + line 的方式定位调用处的，但是想着line经常会变动，还是不要用这种方式了\n\t// line?: number // symbol + line 方式定位\n\t// TODO 到时候增加一个右键菜单，获取相对路径，用于在chrome打断点调试 以查看调用栈\n\n\ttextPattern?: string // symbol + textPattern 模式找到调用处的位置，textPattern 可能会存在多个，#指定第几个\n\tfilePattern?: string // 唯一指定\n\n\t// 直接点位\n\tlocation?: vscode.Location\n\tparent?: KC_Node;\n\n\ticonType?: KC_NODE_ICON_TYPE\n\trequirePath?: string // 如果存在，这个是相对路径(__kReactCodeTree__/workflows/index.js) 使用 requirePath 加载children\n\t_id?: string // 自动化生成后反向查找\n}\n\n\n\nexport type SceneWorkflows = {\n\ttitle: string;\n\tlist: KC_Node[]\n}","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"vscode\");"],"sourceRoot":""}